<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>fliegheute.de â€“ Flieg. Heute.</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Inter+Tight:wght@800&display=swap" rel="stylesheet">
  <style id="fh-styles">
    :root{
      --brand:#7183f5; --ink:#0b0b13; --muted:#6e7280;
      --bg:#ffffff; --hero:#f9fafb; --card:#fff;
      --border:#e5e7eb; --radius:16px; --shadow:0 10px 30px rgba(21,25,62,.08);
      --ctl-h:44px; --r-pill:999px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,sans-serif;background:var(--bg);color:var(--ink)}

    /* ===== Layout / Container ===== */
    .fh-container{max-width:1120px;margin:0 auto;padding:0 20px}

   /* ===== Header ===== */
.fh-header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: #fff;
  backdrop-filter: blur(6px);
  border-bottom: none;
  box-shadow: 0 6px 20px -6px rgba(113,131,245,0.25); /* var(--brand) weich */
}
.fh-hdr {
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.fh-hdr img { height: 32px }
.fh-nav {
  display: flex;
  gap: 20px;
  align-items: center;
}
.fh-nav a {
  font-weight: 600;
  text-decoration: none;
  color: inherit;
}
.fh-nav .fh-cta {
  background: var(--ink);
  color: #fff;
  padding: 8px 14px;
  border-radius: var(--r-pill);
  font-weight: 700;
}

/* ===== Hero ===== */
.fh-hero-wrap {
  background: var(--hero) url("/assets/herobild1v3.png") no-repeat center/cover;
}
.fh-hero {
  display: grid;
  grid-template-columns: 640px auto; /* linke Spalte fix */
  align-items: start;
  gap: 40px;
  padding: 200px 0;
}
.fh-hero h1 {
  font-size: 52px;
  font-family: "Inter Tight", sans-serif;
  font-weight: 800;
  margin-bottom: 8px;
}
.fh-hero p {
  color: var(--muted);
  margin-bottom: 20px;
}
.fh-mascot {
  width: 180px;
  height: auto;
  justify-self: self-start;
}
    .fh-hero-wrap {
  position: relative;
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
}
.fh-hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,.35), rgba(11,11,19,.55));
  pointer-events: none;
}
.fh-hero { position: relative; z-index: 1; }
.fh-hero h1, .fh-hero p { color:#fff; text-shadow:0 2px 10px rgba(0,0,0,.35); }
.fh-hero-switch {
  display:flex;
  gap:8px;
  margin-top:12px;
}
.fh-hero-switch button {
  height:32px;
  padding:0 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.4);
  background:rgba(255,255,255,.08);
  color:#fff;
  font-weight:700;
  cursor:pointer;
  backdrop-filter:saturate(120%) blur(2px);
  transition:background .2s ease,transform .15s ease;
}
.fh-hero-switch button:hover {
  background:rgba(255,255,255,.18);
  transform:translateY(-1px);
}
  .fh-hero-switch button[aria-pressed="true"]{
  background: rgba(255,255,255,.22);
  border-color: rgba(255,255,255,.55);
}

/* ===== Suche ===== */
.fh-search {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 16px;
  display: grid;
  gap: 14px;
  width: 100%;
}
.fh-controls {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}
.fh-seg {
  display: inline-flex;
  border: 1px solid var(--border);
  border-radius: var(--r-pill);
  overflow: hidden;
}
.fh-seg button {
  height: var(--ctl-h);
  padding: 0 14px;
  border: 0;
  background: #fff;
  cursor: pointer;
  font-weight: 700;
  color: var(--ink);
}
.fh-seg button[aria-pressed="true"] {
  background: var(--brand);
  color: #fff;
}

.fh-pax {
  display: flex;
  align-items: center;
  gap: 8px;
}
.fh-pax-btn {
  width: 36px;
  height: 36px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: #fff;
  font-weight: 800;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}
.fh-pax-count {
  min-width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--brand);
  color: #fff;
  font-weight: 700;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.fh-line {
  display: flex;
  align-items: center;
  gap: 10px;
}
.fh-field {
  flex: 1;
  min-width: 0;
  background: #f1f3ff;
  border: 1px solid var(--border);
  border-radius: 10px;
  display: flex;
  align-items: center;
  padding: 0 12px;
  height: var(--ctl-h);
}
.fh-field input {
  border: 0;
  background: transparent;
  flex: 1;
  min-width: 0;
  font-size: 16px;
}
.fh-swap {
  width: var(--ctl-h);
  height: var(--ctl-h);
  border-radius: var(--r-pill);
  border: 1px solid var(--border);
  background: #fff;
  display: grid;
  place-items: center;
  cursor: pointer;
}

.fh-go {
  flex: 0 0 auto;
  background: var(--brand);
  color: #fff;
  border: 0;
  border-radius: 10px;
  padding: 0 16px;
  height: var(--ctl-h);
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}
.fh-go img { display: block }

.fh-geo {
  width: 100%;
  height: var(--ctl-h);
  margin-top: 6px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
}
.fh-micro {
  margin-top: 10px;
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  color: #111;
  font-size: 14px;
}
    .fh-section-48h {
  background: var(--hero);
  padding: 60px 0;
}

    /* ===== Sections ===== */
    .fh-section{margin-top:100px}
    .fh-section-h{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:14px}
    .fh-section-h h2{margin:0;font-size:22px;font-family:"Inter Tight",sans-serif}
    .fh-link{color:var(--brand);font-weight:700;text-decoration:none}

    /* ===== Chips ===== */
    .fh-chips{display:flex;gap:10px;padding:10px 0;justify-content:space-between}
    .fh-chip {
  transition: all 0.25s ease;
}
.fh-chip:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 8px 16px rgba(0,0,0,0.08);
}
    .fh-chip{flex:1 1 22%;background:#fff;border:1px solid var(--border);border-radius:var(--r-pill);padding:8px 12px;display:flex;gap:10px;align-items:center;justify-content:space-between;box-shadow:var(--shadow)}
    .fh-chip .fh-badge{background:#f571b4;color:#fff;font-weight:800;border-radius:var(--r-pill);padding:4px 8px;display:flex;align-items:center;gap:6px}

    /* ===== Grid ===== */
    .fh-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media(max-width:800px){.fh-grid{grid-template-columns:1fr 1fr}}
    @media(max-width:600px){.fh-grid{grid-template-columns:1fr}}
    .fh-card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
    .fh-media{aspect-ratio:16/9;background:#eef1ff}
    .fh-body{padding:14px}
    .fh-row{display:flex;justify-content:space-between;align-items:center}
    .fh-route{font-weight:800}
    .fh-price{font-size:22px;font-weight:800}
    .fh-meta{color:var(--muted);font-size:13px;margin-top:4px}
    .fh-cta{display:inline-block;margin-top:10px;background:var(--brand);color:#fff;padding:10px 14px;border-radius:10px;font-weight:700}

    /* ===== FAQ & Footer ===== */
    .fh-faq{margin:100px 0}
    .fh-faq h2{margin-bottom:16px}
    details{background:#fff;border:1px solid var(--border);border-radius:10px;padding:12px 16px;margin-bottom:8px;cursor:pointer}
    summary{font-weight:600} summary::-webkit-details-marker{display:none}

    footer{padding:20px 0;color:var(--muted);font-size:14px;border-top:1px solid var(--border);margin-top:100px}
    .fh-footer{max-width:1120px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px}
    .fh-transp{margin-top:10px;font-size:13px}
  </style>
<script data-noptimize="1" data-cfasync="false" data-wpfc-render="false">
    (function () {
        var script = document.createElement("script");
        script.async = 1;
        script.src = 'https://emrldco.com/676139.js?t=676139';
        document.head.appendChild(script);
    })();
  </script>

  <!-- Hero Crossfade CSS -->
  <style id="hero-crossfade-css">
    .hero-root {
      position: relative;
      width: 100%;
      height: 70vh;
      overflow: hidden;
    }
    .hero-layer {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
      will-change: opacity, background-image;
    }
    .hero-layer.active { opacity: 1; }
    .hero-overlay {
      position: absolute;
      left: clamp(16px, 6vw, 96px);
      bottom: clamp(24px, 10vh, 120px);
      z-index: 5;
      color: #fff;
      max-width: min(90vw, 900px);
      text-shadow: 0 2px 12px rgba(0,0,0,.35);
    }
    .hero-overlay h1 {
      margin: 0;
      line-height: 1.05;
      font-weight: 800;
      font-size: clamp(28px, 6vw, 64px);
    }
    .hero-buttons { margin-top: 16px; display: flex; gap: 8px; flex-wrap: wrap; }
    .hero-buttons button {
      appearance: none;
      border: none;
      padding: 10px 14px;
      font: inherit;
      font-weight: 600;
      border-radius: 999px;
      background: rgba(0,0,0,.55);
      color: #fff;
      cursor: pointer;
      transition: transform .15s ease, background .2s ease;
      backdrop-filter: blur(6px);
    }
    .hero-buttons button:hover { transform: translateY(-1px); background: rgba(0,0,0,.7); }
    .hero-buttons button.active { background: #fff; color: #000; }
    @media (max-width: 768px) {
      .hero-root { height: 58vh; }
    }
  </style>

</head>
<body>

  <!-- Hero Section START (new crossfade) -->
  <section id="hero" class="hero-root">
    <div class="hero-layer hero-layer-a"></div>
    <div class="hero-layer hero-layer-b"></div>
    <div class="hero-overlay">
      <h1 id="hero-headline"></h1>
      <div id="hero-buttons" class="hero-buttons"></div>
    </div>
  </section>
  <!-- Hero Section END -->

  <!-- Header -->
  <header class="fh-header">
    <div class="fh-container fh-hdr">
      <a href="/"><img src="/assets/logo-plany-header.svg" alt="fliegheute.de"></a>
      <nav class="fh-nav">
        <a href="#inspiration">Inspiration</a>
        <a href="#hilfe">Hilfe</a>
        <a href="#business">FÃ¼r Business</a>
        <a href="#login">Login</a>
        <a class="fh-cta" href="#signup">Registrieren</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
<div class="fh-hero-wrap" id="hero">
  <div class="fh-hero-overlay"></div>
  <div class="fh-container fh-hero">
    <div>
      <h1 id="hero-title">Mallorca erleben â€“ Sonne, Meer, Freiheit</h1>
      <p>Deine besten Flug-Deals der nÃ¤chsten 24/48 Stunden â€“ ohne Filterstress.</p>

      <!-- Suchformular -->
      <form class="fh-search">
        <div class="fh-controls">
          <div class="fh-seg">
            <button type="button" aria-pressed="true">Hin- & RÃ¼ckflug</button>
            <button type="button" aria-pressed="false">Nur Hinflug</button>
          </div>
          <div class="fh-seg">
            <button type="button" aria-pressed="true">24h</button>
            <button type="button" aria-pressed="false">48h</button>
            <button type="button" aria-pressed="false" disabled>Bald</button>
          </div>
          <div class="fh-pax">
            <button type="button" class="fh-pax-btn fh-minus">â€“</button>
            <span class="fh-pax-count">1</span>
            <button type="button" class="fh-pax-btn fh-plus">+</button>
          </div>
        </div>

        <div class="fh-line">
          <div class="fh-field"><input placeholder="FRA"></div>
          <button class="fh-swap" type="button">â‡†</button>
          <div class="fh-field"><input placeholder="BCN oder Barcelona"></div>
          <button class="fh-go" type="button">
            <img src="/assets/search.svg" alt="Lupe" width="18" height="18">
            Suchen
          </button>
        </div>

        <button type="button" class="fh-geo">Abflug: Airport in der NÃ¤he</button>

        <div class="fh-micro">
          <span>âœ… Beste Deals im Web</span>
          <span>âœ… Preise werden laufend aktualisiert</span>
          <span>âœ… Gespart & abgehoben</span>
        </div>
      </form>

      <!-- Switch-Buttons -->
     <div class="fh-hero-switch"></div>
    </div>
    <img class="fh-mascot" src="/assets/logo-plany-mascot.svg" alt="Plany Maskottchen">
  </div>
</div>


<!-- Heute 24h -->
  <section class="fh-container fh-section">
    <div class="fh-section-h">
      <h1>24h Hotchips</h1>
      <a class="fh-link" href="#">Alle 24h-Deals</a>
    </div>
    <div class="fh-chips">
      <div class="fh-chip"><strong>FRA â†’ BCN</strong><small>13:25</small><span class="fh-badge">ðŸ”¥ 49â‚¬</span></div>
      <div class="fh-chip"><strong>BER â†’ LON</strong><small>18:40</small><span class="fh-badge">âš¡ 39â‚¬</span></div>
      <div class="fh-chip"><strong>STR â†’ ROM</strong><small>20:10</small><span class="fh-badge">ðŸ”¥ 59â‚¬</span></div>
      <div class="fh-chip"><strong>MUC â†’ LIS</strong><small>22:05</small><span class="fh-badge">âš¡ 89â‚¬</span></div>
    </div>
  </section>

  <!-- 48h -->
<section class="fh-section fh-section-48h">
  <div class="fh-container">
    <div class="fh-section-h">
      <h1>48h Deals</h1>
      <a class="fh-link" href="#">Mehr Deals</a>
    </div>
    <div class="fh-grid">
      <!-- 9 Cards (Beispiele) -->
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">FRA â†’ BCN</div><div class="fh-meta">Heute 21:30 â€¢ 2h 10m</div></div><div class="fh-price">49 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">BER â†’ LON</div><div class="fh-meta">Morgen 07:15 â€¢ 1h 55m</div></div><div class="fh-price">39 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">STR â†’ ROM</div><div class="fh-meta">Morgen 19:10 â€¢ 2h 05m</div></div><div class="fh-price">59 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">MUC â†’ LIS</div><div class="fh-meta">Heute 12:00 â€¢ 3h 00m</div></div><div class="fh-price">89 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">DUS â†’ OPO</div><div class="fh-meta">Heute 14:20 â€¢ 2h 45m</div></div><div class="fh-price">69 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">HAM â†’ VIE</div><div class="fh-meta">Morgen 09:45 â€¢ 1h 40m</div></div><div class="fh-price">59 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">CGN â†’ MAD</div><div class="fh-meta">Heute 16:30 â€¢ 2h 30m</div></div><div class="fh-price">79 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">FRA â†’ IST</div><div class="fh-meta">Heute 19:00 â€¢ 3h 15m</div></div><div class="fh-price">99 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
      <article class="fh-card"><div class="fh-media"></div><div class="fh-body"><div class="fh-row"><div><div class="fh-route">BER â†’ AMS</div><div class="fh-meta">Morgen 11:20 â€¢ 1h 20m</div></div><div class="fh-price">45 â‚¬</div></div><a class="fh-cta" href="#">Jetzt buchen</a></div></article>
    </div>
  </div>
</section>

  <!-- FAQ -->
  <section class="fh-faq">
    <div class="fh-container">
      <h2>HÃ¤ufig gestellte Fragen</h2>
      <details><summary>Was muss ich wissen, bevor ich einen Flug buche?</summary><p>Reisedokumente, GepÃ¤ckregeln und mÃ¶gliche Zusatzkosten prÃ¼fen.</p></details>
      <details><summary>Wann ist die beste Zeit, FlÃ¼ge zu buchen?</summary><p>HÃ¤ufig 1â€“3 Tage vor Abflug; Preise schwanken dynamisch.</p></details>
      <details><summary>Kann ich mit Zwischenstopps sparen?</summary><p>Oft gÃ¼nstiger als Nonstop; dauert aber lÃ¤nger.</p></details>
    </div>
  </section>

  <!-- Footer -->



<script id="hero-crossfade-js">
(function() {
  const CROSSFADE_MS = 1500;
  const STAND_MS = 7000;

  // If HEROES isn't defined yet, wait for it
  function ready(fn){ 
    if (document.readyState !== 'loading') fn(); 
    else document.addEventListener('DOMContentLoaded', fn);
  }

  ready(function initHero(){
    if (typeof HEROES === 'undefined' || !Array.isArray(HEROES) || !HEROES.length) return;

    const layerA = document.querySelector('.hero-layer-a');
    const layerB = document.querySelector('.hero-layer-b');
    const headline = document.getElementById('hero-headline');
    const btnWrap = document.getElementById('hero-buttons');

    let currentIndex = 0;
    let currentLayer = layerA;
    let timer = null;

    // Dynamic buttons from HEROES.label
    HEROES.forEach((h, i) => {
      const b = document.createElement('button');
      b.type = 'button';
      b.textContent = h.label || `#${i+1}`;
      b.addEventListener('click', () => {
        stopAuto();
        show(i);
        startAuto();
      });
      btnWrap.appendChild(b);
    });

    const buttons = Array.from(btnWrap.querySelectorAll('button'));

    function setBtnActive(i){
      buttons.forEach((b, idx) => b.classList.toggle('active', idx === i));
    }

    function srcFor(hero){
      const s = hero.sources || {};
      const isMobile = window.innerWidth < 768;
      const isRetina = window.devicePixelRatio > 1;
      if (isMobile) return isRetina ? (s.mobile2x || s.mobile1x || s.desktop2x || s.desktop1x) : (s.mobile1x || s.desktop1x);
      return isRetina ? (s.desktop2x || s.desktop1x) : (s.desktop1x || s.mobile1x);
    }

    // Preload all assets
    (function preload(){
      HEROES.forEach(h => {
        if (!h || !h.sources) return;
        ['desktop1x','desktop2x','mobile1x','mobile2x'].forEach(k => {
          const v = h.sources[k];
          if (v) { const img = new Image(); img.src = v; }
        });
      });
    })();

    function show(i){
      const hero = HEROES[i];
      if (!hero) return;
      const nextLayer = (currentLayer === layerA) ? layerB : layerA;

      // Set next image
      nextLayer.style.backgroundImage = `url("${srcFor(hero)}")`;

      // Crossfade
      nextLayer.classList.add('active');
      currentLayer.classList.remove('active');

      // Headline update AFTER fade-in to avoid jump
      setTimeout(() => {
        headline.textContent = hero.title || '';
        setBtnActive(i);
      }, CROSSFADE_MS);

      currentLayer = nextLayer;
      currentIndex = i;
    }

    function next(){
      const n = (currentIndex + 1) % HEROES.length;
      show(n);
    }

    function startAuto(){
      stopAuto();
      timer = setInterval(next, STAND_MS);
    }
    function stopAuto(){
      if (timer) clearInterval(timer);
      timer = null;
    }

    // Init first frame
    // Place first image immediately and headline after a tick
    const first = HEROES[0];
    if (first){
      currentLayer.style.backgroundImage = `url("${srcFor(first)}")`;
      currentLayer.classList.add('active');
      setTimeout(() => {
        headline.textContent = first.title || '';
        setBtnActive(0);
      }, 0);
    }

    startAuto();

    // Resize support: reload current background source
    window.addEventListener('resize', () => {
      const hero = HEROES[currentIndex];
      if (!hero) return;
      // Update on the currently visible layer
      currentLayer.style.backgroundImage = `url("${srcFor(hero)}")`;
    });
  });
})();
</script>

  <footer>
    <div class="fh-footer">
      <div>Â© <span id="fh-y"></span> fliegheute.de</div>
      <div><a href="#">Impressum</a> Â· <a href="#">Datenschutz</a></div>
    </div>
    <div class="fh-footer fh-transp">Transparenz: Wir vergleichen Preise und leiten dich zur Buchung weiter. Kein Aufpreis durch uns.</div>
  </footer>

  <script>
    // Jahr
    document.getElementById('fh-y').textContent = new Date().getFullYear();

    // Pax Counter
    const fhMinus=document.querySelector('.fh-minus');
    const fhPlus=document.querySelector('.fh-plus');
    const fhCount=document.querySelector('.fh-pax-count');
    let pax=1; const upd=()=>fhCount.textContent=pax;
    fhMinus.addEventListener('click',()=>{if(pax>1){pax--;upd();}});
    fhPlus.addEventListener('click',()=>{pax++;upd();});
  </script>
<script>
/* ================= HERO DATA ================= */
const HEROES = [
  {
    label: "Mallorca",
    title: "Mallorca erleben â€“ Sonne, Meer, Freiheit",
    sources: {
      desktop1x: "assets/hero-mallorca-desktop@1x.webp",
      desktop2x: "assets/hero-mallorca-desktop@2x.webp",
      mobile1x:  "assets/hero-mallorca-mobile@1x.webp",
      mobile2x:  "assets/hero-mallorca-mobile@2x.webp"
    }
  },
  {
    label: "London",
    title: "StÃ¤dtetrip deluxe: Kultur & Flair erleben",
    sources: {
      desktop1x: "assets/hero-london-desktop@1x.webp",
      desktop2x: "assets/hero-london-desktop@2x.webp",
      mobile1x:  "assets/hero-london-mobile@1x.webp",
      mobile2x:  "assets/hero-london-mobile@2x.webp"
    }
  },
  {
    label: "Bergsee",
    title: "Raus. Atmen. Discovery beginnt hier",
    sources: {
      desktop1x: "assets/hero-bergsee-desktop@1x.webp",
      desktop2x: "assets/hero-bergsee-desktop@2x.webp",
      mobile1x:  "assets/hero-bergsee-mobile@1x.webp",
      mobile2x:  "assets/hero-bergsee-mobile@2x.webp"
    }
  }
];

/* ================= ELEMENTS ================= */
const heroEl    = document.getElementById("hero");
const heroTitle = document.getElementById("hero-title");
const switchEl  = document.querySelector(".fh-hero-switch");

/* Zwei Layer im Hero fÃ¼rs Crossfading */
const layers = heroEl.querySelectorAll(".hero-layer");

/* ================= SETTINGS ================= */
let activeLayer = 0;
let currentHero = 0;
const HERO_DURATION = 7000; // 7s Standzeit
const FADE_DURATION = 1500; // 1.5s Ãœberblendung

/* ================= HELPERS ================= */
function pickSrc(h){
  const isMobile = window.innerWidth < 800;
  if (isMobile) return (window.devicePixelRatio > 1) ? h.sources.mobile2x : h.sources.mobile1x;
  return (window.devicePixelRatio > 1) ? h.sources.desktop2x : h.sources.desktop1x;
}

function setActive(idx){
  switchEl.querySelectorAll("button").forEach((b,i)=>{
    b.setAttribute("aria-pressed", i===idx ? "true" : "false");
  });
}

/* ================= CORE ================= */
function setHero(i=0){
  const h = HEROES[i] || HEROES[0];
  const src = pickSrc(h);

  activeLayer = 1 - activeLayer; // toggle Layer
  const newLayer = layers[activeLayer];
  const oldLayer = layers[1 - activeLayer];

  newLayer.style.backgroundImage = `url("${src}")`;
  newLayer.classList.add("active");
  oldLayer.classList.remove("active");

  heroTitle.textContent = h.title;
  setActive(i);
}

/* ================= INIT ================= */
/* Buttons dynamisch erzeugen */
switchEl.innerHTML = "";
HEROES.forEach((h, i) => {
  const b = document.createElement("button");
  b.type = "button";
  b.dataset.hero = i;
  b.textContent = h.label;
  b.setAttribute("aria-pressed", i === 0 ? "true" : "false");
  switchEl.appendChild(b);
});

/* Preload aller Hero-Bilder */
(function preloadAllHeroes(){
  HEROES.forEach(h => {
    Object.values(h.sources).forEach(src => {
      const img = new Image();
      img.src = src;
    });
  });
})();

/* Erstes Bild anzeigen */
setHero(0);

/* Manuelles Umschalten */
switchEl.addEventListener("click", (e)=>{
  const btn = e.target.closest("button[data-hero]");
  if (!btn) return;
  currentHero = parseInt(btn.dataset.hero, 10) || 0;
  setHero(currentHero);
});

/* Auto-Rotation */
setInterval(()=>{
  currentHero = (currentHero + 1) % HEROES.length;
  setHero(currentHero);
}, HERO_DURATION);

/* Bei Resize passende AuflÃ¶sung nachladen */
let resizeTimer;
window.addEventListener("resize", ()=>{
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(()=> setHero(currentHero), 150);
});
</script>
</body>
</html>
